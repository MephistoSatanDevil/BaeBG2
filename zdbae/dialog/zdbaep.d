BEGIN ZDBAEP

// Kickout Dialogue
IF ~Global("ZDBAE_JOINED","GLOBAL",1) Global("ZDBAE_LEFT", "GLOBAL", "0")~ THEN BEGIN ZDBAEJ1
  SAY @0
  IF ~~ THEN REPLY @1  DO ~JoinParty()~ EXIT
  IF ~~ THEN REPLY @2 DO ~SetGlobal("ZDBAE_LEFT", "GLOBAL", "1")~ EXIT
END

// Rejoin
IF ~Global("ZDBAE_JOINED","GLOBAL",1) Global("ZDBAE_LEFT", "GLOBAL", "1")~ THEN BEGIN ZDBAEJ2
  SAY @3
  IF ~~ THEN REPLY @4 GOTO ZDBAEJ3
  IF ~~ THEN REPLY @5 EXIT
END

// Join
IF ~~ THEN BEGIN ZDBAEJ3
  SAY @6
  IF ~~ THEN DO ~SetGlobal("ZDBAE_LEFT","GLOBAL",0) JoinParty()~ EXIT
END
